<odoo>

    <record model="ir.module.category" id="custody_category">
        <field name="name">Custody Management</field>
    </record>

    <record id="group_custody_user" model="res.groups">
        <field name="name">User</field>
        <field name="category_id" ref="exp_employee_custody.custody_category"/>
    </record>
    <record id="group_custody_hr_approval" model="res.groups">
        <field name="name">Hr Approval</field>
        <field name="category_id" ref="exp_employee_custody.custody_category"/>
    </record>

    <record id="group_custody_department_manager" model="res.groups">
        <field name="name">Department Manager</field>
        <field name="category_id" ref="exp_employee_custody.custody_category"/>
        <field name="implied_ids" eval="[(4, ref('exp_employee_custody.group_custody_user'))]"/>

    </record>
    <record id="group_custody_manager" model="res.groups">
        <field name="name">Manager</field>
        <field name="category_id" ref="exp_employee_custody.custody_category"/>
        <field name="implied_ids" eval="[(4, ref('exp_employee_custody.group_custody_department_manager'))]"/>
    </record>

    <record id="custom_employee_custody_emp_rule" model="ir.rule">
        <field name="name">Employee: views custody</field>
        <field name="model_id" ref="model_custom_employee_custody"/>
        <field name="domain_force">[('employee_id.user_id','=', user.id)]</field>
        <field name="groups" eval="[(4, ref('exp_employee_custody.group_custody_user'))]"/>
    </record>

    <record id="custom_employee_custody_division_mgr_rule" model="ir.rule">
        <field name="name">Division manager: views custody of its subordinates</field>
        <field name="model_id" ref="model_custom_employee_custody"/>
        <field name="domain_force">['|',('employee_id.parent_id.user_id','=',
            user.id),('employee_id.coach_id.user_id','=', user.id)]
        </field>
        <field name="groups"
               eval="[(4, ref('exp_employee_custody.group_custody_department_manager'))]"/>
    </record>

    <record id="custom_employee_custody_hr_rule" model="ir.rule">
        <field name="name">Allow HR : views custody of all employees</field>
        <field name="model_id" ref="model_custom_employee_custody"/>
        <field name="domain_force">[(1 ,'=', 1)]</field>
        <field name="groups" eval="[(4, ref('exp_employee_custody.group_custody_manager'))]"/>

    </record>

    <record id="hr_custody_receiving_emp_rule" model="ir.rule">
        <field name="name">Employee: views its custody receiving records</field>
        <field name="model_id" ref="model_hr_custody_receiving"/>
        <field name="domain_force">[('employee_id.user_id','=', user.id)]</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>

    <record id="hr_custody_receiving_division_mgr_rule" model="ir.rule">
        <field name="name">Division manager: views custody receiving records of its subordinates</field>
        <field name="model_id" ref="model_hr_custody_receiving"/>
        <field name="domain_force">['|',('employee_id.parent_id.user_id','=',
            user.id),('employee_id.coach_id.user_id','=', user.id)]
        </field>
        <field name="groups"
               eval="[(4, ref('hr_base.group_department_manager')),(4, ref('hr_base.group_division_manager')),]"/>
    </record>

    <record id="hr_custody_receiving_hr_rule" model="ir.rule">
        <field name="name">Allow HR : views custody receiving records of all employees</field>
        <field name="model_id" ref="model_hr_custody_receiving"/>
        <field name="domain_force">[(1 ,'=', 1)]</field>
        <field name="groups" eval="[(4, ref('hr_base.group_executive_manager')),
                                        (4, ref('hr_base.group_general_manager')),
                                        (4, ref('hr.group_hr_manager')),
                                        (4, ref('hr.group_hr_user'))]"/>
    </record>


</odoo>