<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="employee_apprisal_extend" model="ir.ui.view">
            <field name="name">employee.apprisal.form.extend</field>
            <field name="model">hr.employee.appraisal</field>
            <field name="inherit_id" ref="exp_hr_appraisal.hr_appraisal_form_view"/>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[1]" position="before">
                    <div class="oe_button_box" name="button_box">
                        <button name="action_show_objection_request" type="object" class="oe_stat_button"
                                icon="fa-list-ul"
                                attrs="{'invisible': ['|',('is_last_stage', '!=', True),('type', '!=', 'appraisal')]}">
                            <field string="Objection Requests" name="objection_count" widget="statinfo"/>
                        </button>

                        <button name="action_show_correction_request" type="object" class="oe_stat_button"
                                icon="fa-list-ul"
                                attrs="{'invisible': ['|','|',('type', '!=', 'appraisal'),('is_first_stage', '=', True),('is_last_stage', '=', True)]}">
                            <field string="KPI Correction Requests" name="correction_count" widget="statinfo"/>
                        </button>

                        <button name="action_show_exp_performance_request" type="object" class="oe_stat_button"
                                icon="fa-list-ul"
                                attrs="{'invisible': ['|','|',('type', '!=', 'appraisal'),('is_last_stage', '!=', True),('exceptional_performance', '=', False)]}">
                            <field string="Exceptional Performance Requests" name="exp_performance_count"
                                   widget="statinfo"/>
                        </button>
                    </div>

                </xpath>
                <header position="replace">
                    <header>
                        <field name="is_last_stage" invisible="1"/>

                        <button name="send_to_direct_manager"
                                string="Send To Direct Manager"
                                class="oe_highlight"
                                type="object"
                                states="draft"/>

                        <button name="sent_appraisal_to_employee" string="Send To Employee" class="oe_highlight"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_direct_manager'),('type', '!=', 'appraisal')]}"
                                type="object" groups="hr_base.group_division_manager"/>

                        <button name="send_to_dmanager" string="Approve" class="oe_highlight"
                                attrs="{'invisible': ['|',('state', '!=', 'draft'),('type','not in',['exp_performance','correction'])]}"
                                type="object" groups="hr_base.group_division_manager"/>


                        <button name="send_to_performance_officer" string="Approve" class="oe_highlight"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_dept_manager'),('type','not in',['exp_performance','correction'])]}"
                                type="object" groups="hr_base.group_department_manager"/>
                        <button name="refused" string="Refuse" class="oe_highlight" type="object"
                                states="wait_dept_manager" groups="hr_base.group_department_manager"/>


                        <button name="send_to_performance_officer" string="Complete" class="oe_highlight"
                                type="object"
                                attrs="{'invisible': ['|',('state', '!=', 'draft'),('type', '!=', 'objection')]}"/>

                        <button name="send_to_performance_officer" string="Complete" class="oe_highlight"
                                type="object" states="wait_employee"/>
                        <button name="draft" string="Re Send To Direct Manager" type="object"
                                states="wait_employee"
                                confirm="Are you sure to Reset To Direct Manager This Record?"/>

                        <button name="approve" string="Approve" class="oe_highlight" type="object"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_performance_officer'),('type', 'in', ['exp_performance','correction'])]}"
                                groups="exp_hr_appraisal.group_appraisal_employee"/>
                        <button name="send_hr_manager" string="Approve" class="oe_highlight" type="object"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_performance_officer'),('type','not in',['exp_performance','correction'])]}"
                                groups="exp_hr_appraisal.group_appraisal_employee"/>

                        <button name="draft" string="Re-Draft"
                                class="oe_highlight" type="object" states="wait_performance_officer"
                                groups="exp_hr_appraisal.group_appraisal_employee"
                                confirm="Are you sure to Reset To Performance Officer This Record?"/>
                        <button name="refused" string="Refuse" class="oe_highlight" type="object"
                                states="wait_performance_officer" groups="exp_hr_appraisal.group_appraisal_employee"/>

                        <button name="send_to_gm" string="Approve" class="oe_highlight"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_services_manager'),('type', '!=', 'exp_performance')]}"
                                type="object" groups="hr_base.group_services_manager"/>
                        <button name="refused" string="Refuse" class="oe_highlight" type="object"
                                states="wait_services_manager" groups="hr_base.group_services_manager"/>

                        <button name="approve" string="Approve" class="oe_highlight"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_hr_manager'),('type', '!=', 'correction')]}"
                                type="object" groups="hr.group_hr_manager"/>
                        <button name="send_services_manager" string="Approve" class="oe_highlight"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_hr_manager'),('type', '!=', 'exp_performance')]}"
                                type="object" groups="hr.group_hr_manager"/>
                        <button name="refused" string="Refuse" class="oe_highlight" type="object"
                                states="wait_hr_manager" groups="hr.group_hr_manager"/>

                        <button name="approve" string="Approve" class="oe_highlight"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_gm'),('type', '!=', 'exp_performance')]}"
                                type="object" groups="hr_base.group_general_manager"/>
                        <button name="refused" string="Refuse" class="oe_highlight" type="object"
                                states="wait_gm" groups="hr_base.group_general_manager"/>

                        <button name="draft" string="Re-Draft" class="oe_highlight" type="object"
                                states="refused,closed"
                                confirm="Are you sure to Reset To Draft This Record?"
                                groups="exp_hr_appraisal.group_appraisal_employee"/>

                        <button name="objection_request" string="Objection Request" class="oe_highlight"
                                type="object"
                                attrs="{'invisible': ['|',('state', '!=', 'wait_employee'),('is_last_stage', '!=', True)]}"/>

                        <button name="kpi_correction_request" string="KPI Correction Request" class="oe_highlight"
                                type="object"
                                attrs="{'invisible': ['|','|','|',('type', '!=', 'appraisal'),('state', '!=', 'wait_direct_manager'),('is_first_stage', '=', True),('is_last_stage', '=', True)]}"/>

                        <button name="exceptional_performance_request" string="Exceptional Performance Request"
                                class="oe_highlight"
                                type="object"
                                attrs="{'invisible': ['|','|','|',('type', '!=', 'appraisal'),('state', '!=', 'draft'),('is_last_stage', '!=', True),('exceptional_performance', '=', False)]}"/>
                        <field name="state" widget="statusbar"
                               statusbar_visible="draft,wait_direct_manager,wait_employee,wait_performance_officer,closed"/>
                    </header>
                </header>
                <xpath expr="//field[@name='employee_id']" position="after">
                    <field name="work_state"/>
                </xpath>
                <xpath expr="//field[@name='employee_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', '!=', 'draft')]}</attribute>
                </xpath>
                <xpath expr="//field[@name='employee_id']" position="after">
                    <field name="is_last_stage" invisible="1"/>
                    <field name="type" invisible="1"/>
                    <field name="is_first_stage" invisible="1"/>
                    <field name="is_appraisal_employee" invisible="1"/>
                    <field name="is_direct_manager" invisible="1"/>
                    <field name="is_executive_director" invisible="1"/>
                    <field name="emp_no" options="{'no_create': True, 'no_open': True}"/>
                    <field name="manager_id" force_save="1" readonly="1"
                           options="{'no_create': True, 'no_open': True}"/>
                    <field name="department_id" force_save="1" readonly="1"
                           options="{'no_create': True, 'no_open': True}"/>
                    <field name="job_id" force_save="1" readonly="1"
                           options="{'no_create': True, 'no_open': True}"/>
                    <field name="appraisal_percentage_id" force_save="1" readonly="1"
                           options="{'no_create': True, 'no_open': True}"/>
                </xpath>
                <xpath expr="//field[@name='great_level']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='level_achieved']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='level_achieved_percentage']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='manager_appraisal_line_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='standard_appraisal_employee_line_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='appraisal_plan_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='appraisal_type']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='is_manager']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='date_from']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='date_to']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//sheet/group[2]" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//button[@name='recompute_values_level_achieved']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='employee_id']" position="attributes">
                    <attribute name="options">{'no_create': True}</attribute>
                    <attribute name="attrs">{'readonly':[('state','!=','draft')]}</attribute>
                    <attribute name="domain">[('state','=','open')]</attribute>
                </xpath>
                <xpath expr="//field[@name='appraisal_date']" position="attributes">
                    <attribute name="attrs">{'readonly':[('state','!=','draft')]}</attribute>

                </xpath>

                <xpath expr="//field[@name='appraisal_date']" position="after">
                    <field name="appraisal_id" options="{'no_create': True}"
                           attrs="{'invisible':[('appraisal_id', '=', False)]}"/>
                    <field name="year_id" options="{'no_create': True, 'no_open': True}" domain="[('state','=','open')]"
                           attrs="{'readonly':['|',('is_first_stage', '=', False),('state','!=','draft')]}"/>
                    <field name="appraisal_stage_id" force_save="1" required="1"
                           attrs="{'readonly':['|',('state','!=','draft'),('type','!=','appraisal')]}"
                           options="{'no_create': True, 'no_open': True}"/>
                    <field name="can_see_appraisal_result" invisible="1"/>
                    <field name="goals_mark" decoration-bf="1"
                           attrs="{'invisible': [('is_last_stage', '=', False)]}"/>
                    <field name="skill_mark" decoration-bf="1"
                           attrs="{'invisible': [('is_last_stage', '=', False)]}"/>
                    <field name="total_score" decoration-bf="1"
                           attrs="{'invisible': [('is_last_stage', '=', False)]}"/>
                    <field name="appraisal_result_color" invisible="1"/>
                    <field name="appraisal_result"
                           attrs="{'invisible': [('is_last_stage', '=', False)]}"
                           decoration-danger="appraisal_result_color == 'red'"
                           decoration-info="appraisal_result_color == 'blue'"
                           decoration-success="appraisal_result_color == 'green'"
                           decoration-warning="appraisal_result_color == 'orange'"
                           decoration-muted="appraisal_result_color == 'purple'"
                           options="{'no_create': True, 'no_open': True}" readonly="1"/>
                    <field name="exceptional_performance"
                           attrs="{'invisible': [('exceptional_performance', '=', False)]}"/>
                </xpath>


                <xpath expr="//sheet" position="inside">
                    <notebook>
                        <page string="Exceptional Performance"
                              attrs="{'invisible': [('type', '!=', 'exp_performance')]}">
                            <field name="exceptional_performance_ids" nolabel="1">
                                <tree editable="bottom" create="false" delete="false">
                                    <field name="standard_id" required="1" readonly="1" decoration-info="1"/>
                                    <field name="name" required="1" readonly="1"/>
                                    <field name="description" required="1" decoration-bf="1"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Goals">
                            <field name="goal_ids"
                                   attrs="{'readonly':[('state','not in',['draft','wait_performance_officer'])]}">
                                <tree editable="bottom">
                                    <field name="state" invisible="1"/>
                                    <field name="kpi_id" width="10" required="1"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"
                                           options='{"no_open": True,"no_create_edit": True,"no_create":True}'/>
                                    <field name="description" width="10" force_save="1" optional="show" readonly="1"/>
                                    <field name="result_appearance" width="5" optional="show"/>
                                    <field name="result_type" width="5" required="1" optional="show"/>
                                    <field name="year_target" width="4"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"/>
                                    <field name="done" width="5"
                                           attrs="{'readonly':['|','|',('parent.type', '!=', 'appraisal'),('parent.is_last_stage', '=', False),('state','!=','draft')],'column_invisible': [('parent.is_last_stage', '=', False)]}"/>

                                    <field name="self_assessment" width="5"
                                           attrs="{'readonly':[('state','!=','draft')],'column_invisible': [('parent.type', '!=', 'objection')]}"
                                           decoration-danger="self_assessment != done and self_assessment != 0"/>
                                    <field name="approved" width="5"
                                           attrs="{'readonly':[('state','!=','wait_performance_officer')],'column_invisible': [('parent.type', '!=', 'objection')]}"/>


                                    <field name="exceeds" width="5" sum="Total Exceeds"
                                           attrs="{'column_invisible': [('parent.is_last_stage', '=', False)]}"/>
                                    <field name="result" width="5"
                                           attrs="{'column_invisible': [('parent.is_last_stage', '=', False)]}"/>

                                    <field name="weight" sum="Total Weight" width="4"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"
                                    />
                                    <field name="kpi_result" width="5" sum="Total Result"
                                           attrs="{'column_invisible': [('parent.is_last_stage', '=', False)]}"/>

                                    <field name="appraiser_comments" force_save='1' width="12"
                                           attrs="{'column_invisible': ['|','|',('parent.type','!=','appraisal'),('parent.is_first_stage', '=', True),('parent.is_last_stage', '=', True)]}"/>
                                    <field name="comments" force_save='1' width="12"
                                           attrs="{'column_invisible': ['|','|',('parent.type','!=','appraisal'),('parent.is_first_stage', '=', True),('parent.is_last_stage', '=', True)]}"/>

                                    <field name="change_justification" force_save='1' width="12"
                                           attrs="{'column_invisible': ['|','|',('parent.type','!=','correction'),('parent.is_first_stage', '=', True),('parent.is_last_stage', '=', True)]}"/>
                                    <field name="change_details" force_save='1' width="12"
                                           attrs="{'column_invisible': ['|','|',('parent.type','!=','correction'),('parent.is_first_stage', '=', True),('parent.is_last_stage', '=', True)]}"/>

                                    <field name="remarks" force_save='1' width="12"
                                           attrs="{'readonly':[('parent.type','!=','appraisal')],'column_invisible': [('parent.is_last_stage', '=', False)]}"/>
                                </tree>
                            </field>
                        </page>

                        <page string="Skills">
                            <field name="skill_ids"
                                   attrs="{'readonly':[('state','not in',['draft','wait_performance_officer'])]}">
                                <tree editable="bottom">
                                    <field name="state" invisible="1"/>
                                    <field name="is_direct_manager" invisible="1"/>
                                    <field name="is_appraisal_employee" invisible="1"/>
                                    <field name="skill_type_id" force_save='1' width="12" required="1"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"
                                           options='{"no_open": True,"no_create_edit": True,"no_create":True}'/>
                                    <field name="skill_id" force_save='1' width="12" required="1"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"
                                           domain="[('skill_type_id','=',skill_type_id)]"
                                           options='{"no_open": True,"no_create_edit": True,"no_create":True}'/>
                                    <field name="item_id" force_save='1' width="12" invisible="1"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"
                                           options='{"no_open": True,"no_create_edit": True,"no_create":True}'/>
                                    <field name="name"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"
                                           force_save='1' width="12"/>
                                    <field name="target" width="5" force_save='1' required="1"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"/>
                                    <field name="apprisal_start_year" width="5" force_save='1' required="1"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"/>
                                    <field name="mark" force_save='1' width="12"
                                           attrs="{'readonly':['|','|',('parent.type', '!=', 'appraisal'),('parent.is_last_stage', '=', False),('state','!=','draft')],'column_invisible': [('parent.is_last_stage', '=', False)]}"/>

                                    <field name="self_assessment" width="5"
                                           attrs="{'readonly':[('state','!=','draft')],'column_invisible': [('parent.type', '!=', 'objection')]}"
                                           decoration-danger="self_assessment != mark and self_assessment != 0"/>
                                    <field name="approved" width="5"
                                           attrs="{'readonly':[('state','!=','wait_performance_officer')],'column_invisible': [('parent.type', '!=', 'objection')]}"/>

                                    <field name="skill_weight" sum="Total Weight" width="4" required="1"
                                           attrs="{'readonly':['|',('parent.is_first_stage', '=', False),('state','!=','draft')]}"/>
                                    <field name="skill_result" force_save='1' width="12" sum="Total Result"
                                           attrs="{'column_invisible': [('parent.is_last_stage', '=', False)]}"/>

                                    <field name="appraiser_comments" force_save='1' width="12"
                                           attrs="{'readonly':[('parent.type','!=','appraisal')],'column_invisible': ['|',('parent.is_first_stage', '=', True),('parent.is_last_stage', '=', True)]}"/>
                                    <field name="comments" force_save='1' width="12"
                                           attrs="{'readonly':[('parent.type','!=','appraisal')],'column_invisible': ['|',('parent.is_first_stage', '=', True),('parent.is_last_stage', '=', True)]}"/>
                                    <field name="remarks" force_save='1' width="12"
                                           attrs="{'readonly':[('parent.type','!=','appraisal')],'column_invisible': [('parent.is_last_stage', '=', False)]}"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Development Plan" attrs="{'invisible':[('is_first_stage','=',False)]}">
                            <field required="1" name="development_plan_ids"
                                   attrs="{'readonly':[('state','not in',['draft'])]}">
                                <tree editable="bottom">
                                    <field required="1" name="development_method_id" width="5" force_save='1'/>
                                    <field required="1" name="name" readonly="1" force_save='1' width="12"/>
                                    <field required="1" name="needs" width="5" force_save='1'/>
                                    <field required="1" name="suggestions" force_save='1' width="12"/>
                                </tree>
                            </field>
                        </page>

                        <page string="Career Development Plan" attrs="{'invisible':[('is_first_stage','=',True)]}">
                            <group>
                                <group string="Employee Strengths">
                                    <field name="employee_strengths" widget="html" nolabel="1"
                                           attrs="{'readonly':[('state','=','closed')]}"/>
                                </group>
                                <group string="Employee Development Points">
                                    <field name="employee_development_points" widget="html" nolabel="1"
                                           attrs="{'readonly':[('state','=','closed')]}"/>
                                </group>
                            </group>
                        </page>
                        <page string="Comments">
                            <group>
                                <group>
                                    <field name="employee_comment" widget="html"
                                           attrs="{'readonly':[('state','!=','wait_employee')]}"/>
                                    <field name="dmanager_comment" widget="html"
                                           attrs="{'readonly':['|',('is_appraisal_employee', '=', True),('state','not in',['draft','wait_dmanager'])]}"/>
                                    <field name="executive_director_comment" widget="html"
                                           attrs="{'readonly':[('state','!=','wait_executive_director')]}"/>
                                </group>
                                <group>
                                    <field name="performance_officer_comment" widget="html"
                                           attrs="{'readonly':[('state','!=','wait_performance_officer')]}"/>
                                    <field name="performance_manager_comment" widget="html"
                                           attrs="{'readonly':[('state','!=','wait_performance_manager')]}"/>
                                </group>
                            </group>

                        </page>
                    </notebook>

                </xpath>

            </field>
        </record>

        <record id="hr_appraisal_view_search" model="ir.ui.view">
            <field name="name">hr.employee.appraisal</field>
            <field name="model">hr.employee.appraisal</field>
            <field name="arch" type="xml">
                <search string="appraisal">
                    <!-- Search fields -->
                    <field name="employee_id"/>
                    <separator/>

                    <!-- Group By Section -->
                    <group expand="0" string="Group By">
                        <filter name="group_by_department_id" domain="[]"
                                context="{'group_by': 'department_id'}"/>
                        <filter name="group_by_appraisal_stage_id" string="Appraisal Stage" domain="[]"
                                context="{'group_by': 'appraisal_stage_id'}"/>
                        <filter name="group_by_employee_id" string="Employee" domain="[]"
                                context="{'group_by': 'employee_id'}"/>
                        <filter name="group_by_state" string="State" domain="[]" context="{'group_by': 'state'}"/>
                        <filter name="group_by_appraisal_result" string="Appraisal Result" domain="[]"
                                context="{'group_by': 'appraisal_result'}"/>
                        <filter name="group_by_appraisal_date" string="Appraisal Date" domain="[]"
                                context="{'group_by': 'appraisal_date'}"/>

                    </group>
                </search>
            </field>
        </record>

        <record id="employee_apprisal_view_tree" model="ir.ui.view">
            <field name="name">employee_apprisal.extend.view.tree</field>
            <field name="model">hr.employee.appraisal</field>
            <field name="inherit_id" ref="exp_hr_appraisal.hr_appraisal_tree_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='is_manager']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='appraisal_plan_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='employee_id']" position="after">
                    <field name="department_id" width="10"/>
                    <field name="appraisal_stage_id" width="10"/>

                </xpath>
                <xpath expr="//field[@name='state']" position="before">
                    <field name="activity_ids" widget="list_activity" optional="show"/>
                    <field name="skill_mark" width="6"
                           attrs="{'invisible': [('can_see_appraisal_result', '=', False)]}"/>
                    <field name="goals_mark" width="6"
                           attrs="{'invisible': [('can_see_appraisal_result', '=', False)]}"/>
                    <field name="total_score" width="6"
                           attrs="{'invisible': [('can_see_appraisal_result', '=', False)]}"/>
                    <field name="can_see_appraisal_result" invisible="1"/>
                    <field name="appraisal_result_color" invisible="1"/>
                    <field name="appraisal_result"
                           attrs="{'invisible': [('can_see_appraisal_result', '=', False)]}"
                           decoration-danger="appraisal_result_color == 'red'"
                           decoration-info="appraisal_result_color == 'blue'"
                           decoration-success="appraisal_result_color == 'green'"
                           decoration-warning="appraisal_result_color == 'orange'"
                           decoration-muted="appraisal_result_color == 'purple'"
                           options="{'no_create': True, 'no_open': True}" readonly="1"/>
                </xpath>
            </field>
        </record>


        <record id="exp_hr_appraisal.employee_appraisal_menu_item" model="ir.ui.menu">
            <field name="active" eval="False"/>
        </record>

        <record id="exp_hr_appraisal.hr_appraisal_action" model="ir.actions.act_window">
            <field name="context">{'search_default_group_by_appraisal_stage_id': 1,'default_type': 'appraisal'}</field>
            <field name="domain">[('type','=','appraisal')]</field>
            <field name="search_view_id" ref="hr_appraisal_view_search"/>
        </record>

        <record id="action_hr_appraisal_action_tree" model="ir.actions.act_window.view">
            <field name="sequence" eval="2"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="employee_apprisal_view_tree"/>
            <field name="act_window_id" ref="exp_hr_appraisal.hr_appraisal_action"/>
        </record>

        <record id="action_hr_appraisal_action_form" model="ir.actions.act_window.view">
            <field name="sequence" eval="3"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="employee_apprisal_extend"/>
            <field name="act_window_id" ref="exp_hr_appraisal.hr_appraisal_action"/>
        </record>

        <record id="hr_correction_action" model="ir.actions.act_window">
            <field name="name">KPI Correction Requests</field>
            <field name="res_model">hr.employee.appraisal</field>
            <field name="context">{'default_type': 'correction'}</field>
            <field name="domain">[('type','=','correction')]</field>
            <field name="view_mode">tree,form,activity</field>
            <field name="search_view_id" ref="hr_appraisal_view_search"/>

        </record>

        <record id="action_hr_correction_action_tree" model="ir.actions.act_window.view">
            <field name="sequence" eval="2"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="employee_apprisal_view_tree"/>
            <field name="act_window_id" ref="hr_correction_action"/>
        </record>

        <record id="action_hr_correction_action_form" model="ir.actions.act_window.view">
            <field name="sequence" eval="3"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="employee_apprisal_extend"/>
            <field name="act_window_id" ref="hr_correction_action"/>
        </record>

        <menuitem
                id="menu_hr_correction_action"
                parent="exp_hr_appraisal.appraisal_menu_id"
                action="hr_correction_action"
                sequence="4"/>

        <record id="hr_objection_action" model="ir.actions.act_window">
            <field name="name">Objection Requests</field>
            <field name="res_model">hr.employee.appraisal</field>
            <field name="context">{'default_type': 'objection'}</field>
            <field name="domain">[('type','=','objection')]</field>
            <field name="view_mode">tree,form,activity</field>
            <field name="search_view_id" ref="hr_appraisal_view_search"/>

        </record>

        <record id="action_hr_objection_action_tree" model="ir.actions.act_window.view">
            <field name="sequence" eval="2"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="employee_apprisal_view_tree"/>
            <field name="act_window_id" ref="hr_objection_action"/>
        </record>

        <record id="action_hr_objection_action_form" model="ir.actions.act_window.view">
            <field name="sequence" eval="3"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="employee_apprisal_extend"/>
            <field name="act_window_id" ref="hr_objection_action"/>
        </record>

        <menuitem
                id="menu_hr_objection_action"
                parent="exp_hr_appraisal.appraisal_menu_id"
                action="hr_objection_action"
                sequence="5"/>

        <record id="hr_exp_performance_action" model="ir.actions.act_window">
            <field name="name">Exceptional Performance Requests</field>
            <field name="res_model">hr.employee.appraisal</field>
            <field name="context">{'default_type': 'exp_performance'}</field>
            <field name="domain">[('type','=','exp_performance')]</field>
            <field name="view_mode">tree,form,activity</field>
            <field name="search_view_id" ref="hr_appraisal_view_search"/>

        </record>

        <record id="action_hr_exp_performance_action_tree" model="ir.actions.act_window.view">
            <field name="sequence" eval="2"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="employee_apprisal_view_tree"/>
            <field name="act_window_id" ref="hr_exp_performance_action"/>
        </record>

        <record id="action_hr_exp_performance_action_form" model="ir.actions.act_window.view">
            <field name="sequence" eval="3"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="employee_apprisal_extend"/>
            <field name="act_window_id" ref="hr_exp_performance_action"/>
        </record>

        <menuitem
                id="menu_hr_exp_performance_action"
                parent="exp_hr_appraisal.appraisal_menu_id"
                action="hr_exp_performance_action"
                sequence="6"/>

        <record id="hr_exp_performance_template_action_form" model="ir.ui.view">
            <field name="name">exceptional.performance.template.form</field>
            <field name="model">exceptional.performance.template</field>
            <field name="arch" type="xml">
                <form string="Exceptional Performance Templates">
                    <sheet>
                        <group>
                            <field name="name" required="1"/>
                            <field name="description"/>
                        </group>
                        <field name="exceptional_performance_ids" nolabel="1">
                            <tree editable="bottom">
                                <field name="standard_id" required="1"/>
                                <field name="name" required="1"/>
                            </tree>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="hr_exp_performance_template_tree" model="ir.ui.view">
            <field name="name">exceptional.performance.template.tree</field>
            <field name="model">exceptional.performance.template</field>
            <field name="arch" type="xml">
                <tree string="Exceptional Performance Templates">
                    <field name="name"/>
                    <field name="description"/>
                    <field name="exceptional_performance_ids"/>
                </tree>
            </field>
        </record>

        <record id="hr_exp_performance_template_action" model="ir.actions.act_window">
            <field name="name">Exceptional Performance Templates</field>
            <field name="res_model">exceptional.performance.template</field>
            <field name="context">{}</field>
            <field name="domain">[]</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem
                id="menu_hr_exp_performance_template_action"
                parent="exp_hr_appraisal.appraisal_configuration"
                action="hr_exp_performance_template_action"
                sequence="6"/>


        <record id="appraisal_result_form_view" model="ir.ui.view">
            <field name="name">Appraisal Result</field>
            <field name="model">appraisal.result</field>
            <field name="inherit_id" ref="exp_hr_appraisal.appraisal_result_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='result_to']" position="after">
                    <field name="exceptional_performance"/>
                    <field name="template_id" attrs="{'invisible': [('exceptional_performance', '=', False)]}"/>
                </xpath>
            </field>
        </record>


    </data>
</odoo>
