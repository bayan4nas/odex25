<odoo noupdate="0">

    <record id="rule_contract_template__company" model="ir.rule">
        <field name="name">Contract template -company</field>
        <field name="model_id" ref="model_contract_template"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'child_of', [user.company_id.id])]
        </field>
    </record>

    <!-- Category -->
    <record model="ir.module.category" id="contract_managment_category">
        <field name="name">Contract Managment</field>
        <field name="description">User access level for this module</field>
        <field name="sequence">50</field>
    </record>
    <!-- groups category -->
    <!-- <record id="group_category_main_menu" model="res.groups">
        <field name="name">Contract Main Menu</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record> -->
    <record id="group_confirm_contract" model="res.groups">
        <field name="name">Confirm Contract</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>
    <record id="group_progress_contract" model="res.groups">
        <field name="name">Progress Contract</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>
    <record id="group_cancel_contract" model="res.groups">
        <field name="name">Cancel Contract</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>

    <record id="group_suspend_contract" model="res.groups">
        <field name="name">Suspend Contract</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>

    <record id="group_close_contract" model="res.groups">
        <field name="name">Close Contract</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>
    <record id="group_set_draft_contract" model="res.groups">
        <field name="name">Rest Draft Contract</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>
    <record id="group_resume_contract" model="res.groups">
        <field name="name">Resume Contract</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>

    <record id="group_contract_report" model="res.groups">
        <field name="name">Contract Reports</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>

    <record id="group_contract_user" model="res.groups">
        <field name="name">Contract User</field>
        <field name="category_id" ref="contract_managment_category"/>
    </record>

    <record id="group_contract_manager" model="res.groups">
        <field name="name">Contract Management Manager</field>
        <field name="implied_ids" eval="[(4, ref('contract.group_contract_user'))]"/>
        <field name="category_id" ref="contract_managment_category"/>
    </record>

    <record id="contract_user_rule" model="ir.rule">
        <field name="name">Contract User: views its forms record</field>
        <field name="model_id" ref="model_contract_contract"/>
        <field name="domain_force">[('user_id','=', user.id)]</field>
        <field name="groups" eval="[(4, ref('contract.group_contract_user'))]"/>
    </record>
    <record id="line_contract_installment_user_rule" model="ir.rule">
        <field name="name">Contract Installment User: views its forms record</field>
        <field name="model_id" ref="model_line_contract_installment"/>
        <field name="domain_force">[('contract_id.user_id','=', user.id)]</field>
        <field name="groups" eval="[(4, ref('contract.group_contract_user'))]"/>
    </record>


    <record id="contract_manager_rule" model="ir.rule">
        <field name="name">Contract Manager: views all forms record</field>
        <field name="model_id" ref="model_contract_contract"/>
        <field name="domain_force">[(1,'=', 1)]</field>
        <field name="groups" eval="[(4, ref('contract.group_contract_manager')),

            (4, ref('account_budget_custom.group_department_manager_budget'))]"
        />
    </record>
<!--                (4, ref('purchase_requisition_custom.group_po_general_supervisor_approve')),-->
<!--     (4, ref('purchase_requisition_custom.CEO_OF_Purchasing')),-->

    <record id="contract_division_mgr_rule" model="ir.rule">
            <field name="name">Division manager: views contract of its subordinates</field>
            <field name="model_id" ref="model_contract_contract"/>
            <field name="domain_force">[('department_id.manager_id.user_id','=',user.id)]</field>
            <field name="groups" eval="[(4, ref('hr_base.group_division_manager')),]"/>
        </record>


    <record id="line_contract_installment_rule" model="ir.rule">
        <field name="name">Contract Installment Manager: views all forms record</field>
        <field name="model_id" ref="model_line_contract_installment"/>
        <field name="domain_force">[(1,'=', 1)]</field>
        <field name="groups" eval="[(4, ref('contract.group_contract_manager')),
            (4, ref('account_budget_custom.group_department_manager_budget'))]"
        />
<!--                    (4, ref('purchase_requisition_custom.group_po_general_supervisor_approve')),-->
<!---->
<!--                    (4, ref('purchase_requisition_custom.CEO_OF_Purchasing')),-->

    </record>
    <record id="contract_manager_account_move_rule" model="ir.rule">
        <field name="name">Contract Manager: views all account move forms record</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="domain_force">[(1,'=', 1)]</field>
        <field name="groups" eval="[(4, ref('contract.group_contract_manager'))]"/>
    </record>

    <record id="contract_manager_account_move_line_rule" model="ir.rule">
        <field name="name">Contract Manager: views all account move line forms record</field>
        <field name="model_id" ref="account.model_account_move_line"/>
        <field name="domain_force">[(1,'=', 1)]</field>
        <field name="groups" eval="[(4, ref('contract.group_contract_manager'))]"/>
    </record>







</odoo>
